# 实现功能

实现了 新建文件 文件排序 上传文件 打开上传文件 文件的重命名 复制粘贴 面包屑导航    拖拽碰撞删除以及移动位置 右键删除 在回收站上 彻底删除 以及还原文件 等功能



## 桌面右键菜单说明

1.  新建文件

   1. 可新建 文件夹 和文档  实现方式 右键空白区域 即可出现右键菜单 可挑选新建的类型，

   2. 快捷键 新建文件夹功能 'shift + n'  默认新建文件夹

   3. 新建的文件 默认名称 ‘新建文件夹’ 或者 ‘新建文本’ 随后根据目前 页面的文件名 自动识别添加后缀名

   4. 区别：

      ​	文件夹可以双击打开 在内部放置文件 没有此项功能

2. 上传文件 ：

   可以上传四种格式的文件

    	1. 图片、2. 视频、 3. 音频、4. 文本（文本格式只支持 ‘.txt’ ）

3. 排序：

   1. 按照文件类型排序：

      文件夹 > 文本 > 图片 > 音频 > 视频    (有回收站的话  回收站默认在第一位)

   2. 按照 创建时间的先后顺序来排序 （初始存在文件位置不会发生改变）

   3. 按照名称的拼音来排序（暂时未完成）

## 文件的右键菜单说明

- 回收站的右键

  1. 还原： 还原所有被删除的文件
  2. 清空全部： 清空回收站内的所有文件  被清空的文件将被彻底删除，不可被恢复

- 文件的右键菜单

  1. 打开文件： 

     文本格式不能被打开 

  2. 重命名： 

     如果本当前目录下有同名且同类型文件 将弹窗提醒 如果输入为空 则恢复至重命名前 比较时 会删除 输入文件的收尾空格

  3. 删除：  

     当前目录下的所有 active 类 回收站不可被删除

  4. 复制 ：

     复制当前右键的文件 复制点击后 会在桌面右键菜单添加一个 粘贴的功能，在没有重新复制的情况下 点击粘贴会一直粘贴上一次复制的文件

## 框选、拖拽以及碰撞检测

> 首先声明一下碰撞检测 在该项目中 所有的碰撞都是基于目标元素的中心点

> 框选和文件拖拽的功能 仅限与 鼠标的 左键

- 框选

  鼠标点击拖动时 会生成一个虚线框 被该虚线框碰撞的元素将添加 active 类

- 拖拽

  - 目标元素在有 active 的情况下 按下鼠标左键 会克隆所有active元素（回收站除外）长按移动 即可拖动克隆元素
  - 鼠标指针的克隆元素 碰撞到 其他文件夹时 松手 即可将被克隆元素 移动到碰撞的文件夹内 
  - 注意：
    - 回收站不能被拖动
    - 克隆元素不能跟被克隆碰撞
    - 元素只会被移动到 回收站和 文件夹内

## 未解决的问题

1. 复制文件的时候，只能循环 复制当前文件及当前文件夹内的第一层文件
2. 还原被删除的文件时，如果当前有重名文件 并不会做重名判断